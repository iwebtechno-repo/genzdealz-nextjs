<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-PL5GVMRBH9"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-PL5GVMRBH9');
    </script>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DS58BG5N5D">
    </script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-DS58BG5N5D');
    </script>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description"
        content="Got questions about GenZDealZ.ai or student discounts? Breakdown of end-to-end process. " />
    <meta name="author" content="" />
    <link rel="icon" href="https://genzdealz.ai/icons/logo_white_old.jpg" />

    <title>GenZDealZ.ai FAQs: Your Questions Answered</title>

    <meta name="twitter:card" content="GenZDealZ.ai_large_image" />
    <meta name="twitter:image" content="https://genzdealz.ai/icons/logo_white_old.jpg" />
    <!-- Other meta tags -->
    <meta property="og:title" content="GenZDealZ.ai FAQs: Your Questions Answered" />
    <meta property="og:description"
        content="Got questions about GenZDealZ.ai or student discounts? Breakdown of end-to-end process. " />
    <meta property="og:image" content="https://genzdealz.ai/icons/logo_white_old.jpg" />
    <meta property="og:url" content="https://genzdealz.ai/" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
        rel="stylesheet">

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
        rel="stylesheet">

    <link href="./css/style_new.css?v=1.1" rel="stylesheet" type="text/css" />
    <link href="./css/3D_card.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="./css/typo.css">
    <link rel="stylesheet" href="./css/component.css">
    <style>
        @media (max-width: 576px) {
            .res-text {
                font-size: 14px;
            }

            /* .celeb-animation {
                top:-50%;
            } */
            /* .big-b,
            .dod,
            .big-b p,
            .res-dod {
                width: 14rem !important;
            } */
        }

        .scroll {
            position: relative;
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            align-items: center;
            /* width: 100%; */
            /* height: auto; */
            /* padding: 1rem 0; */
            /* margin: 2.5rem 0; */
            cursor: default;
            overflow: scroll hidden;
            -ms-scroll-snap-type: x mandatory;
            scroll-snap-type: x mandatory;
            scroll-padding: 0px 1.25rem;
            scrollbar-width: none;
            overflow-x: auto;
        }

        .scroll::-webkit-scrollbar {
            display: none;
        }

        .scroll.active {
            cursor: grab;
            cursor: -webkit-grab;
        }

        .otp-field {
            display: flex;
        }

        .otp-field input {
            letter-spacing: 9px;
            white-space: nowrap;
            width: 100%;
            min-width: 150px;
            height: fit-content;
            font-size: 20px;
            /* padding: 10px; */
            /* text-align: center; */
            /* border-radius: 5px; */
            margin: 5px;
            border: transparent;
            border-bottom: 2px solid #FFFFFF;
            background: transparent;
            font-weight: bold;
            color: #fff;
            outline: none;
            transition: all 0.1s;
        }

        .image_wrap {
            position: relative;
            border-radius: 14px;
            overflow: hidden;
        }

        .image_wrap img {
            width: 100%;
        }

        .image_text {
            position: absolute;
            bottom: 10px;
            left: 10px;
            z-index: 2;
            color: #ffffff;
            font-size: 14px;
            text-shadow: 0px 0px 2px rgba(0, 0, 0, 0.5);
        }

        .image_text_top {
            position: absolute;
            top: 10px;
            right: 10px;
            z-index: 2;
            color: #cee321;
            background: #222;
            font-size: 14px;
            text-shadow: 0px 0px 2px #ffffff80;
        }

        .grad {
            height: 100%;
            width: 100%;
            left: 0;
            opacity: .5;
            position: absolute;
            top: 0;
            z-index: 2;
        }

        .dark_edge {
            background: -moz-radial-gradient(farthest-corner at top left, rgba(0, 0, 0, 0) 36%, rgba(0, 0, 0, 0.5) 76%, rgba(0, 0, 0, 0.65) 100%, rgba(0, 0, 0, 0.0) 157%);
            background: -webkit-radial-gradient(farthest-corner at top left, rgba(0, 0, 0, 0) 36%, rgba(0, 0, 0, 0.5) 76%, rgba(0, 0, 0, 0.65) 100%, rgba(0, 0, 0, 0.0) 157%);
            background: -o-radial-gradient(farthest-corner at top left, rgba(0, 0, 0, 0) 36%, rgba(0, 0, 0, 0.5) 76%, rgba(0, 0, 0, 0.65) 100%, rgba(0, 0, 0, 0.0) 157%);
            background: -ms-radial-gradient(farthest-corner at top left, rgba(0, 0, 0, 0) 36%, rgba(0, 0, 0, 0.5) 76%, rgba(0, 0, 0, 0.65) 100%, rgba(0, 0, 0, 0.0) 157%);
            background: radial-gradient(farthest-corner at top left, rgba(0, 0, 0, 0) 36%, rgba(0, 0, 0, 0.5) 76%, rgba(0, 0, 0, 0.65) 100%, rgba(0, 0, 0, 0.0) 157%);
            filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#a6000000', GradientType=1);

            opacity: 1;
            /* Fully opaque */
        }

        @keyframes boxShadowAnimation {
            0% {
                box-shadow: 0 0 0 0 #c4d81f;
            }

            50% {
                box-shadow: 0 0 37px 0px #c4d81f;
            }

            100% {
                box-shadow: 0 0 0 0 #c4d81f;
            }
        }

        .animated-toast {
            animation: boxShadowAnimation 2s ease-in-out infinite;
        }

        .dropdown-menu {
            animation: 0.5s slideup;
        }

        @keyframes slideup {
            from {
                transform: translateY(100%);
            }

            to {
                transform: translateY(70%);
            }
        }

        .dropdown-toggle::after {
            border: 0 !important;
        }

        .scroll {
            position: relative;
            display: flex;
            flex-direction: row;
            flex-wrap: nowrap;
            align-items: center;
            /* width: 100%; */
            /* height: auto; */
            /* padding: 1rem 0; */
            /* margin: 2.5rem 0; */
            cursor: default;
            overflow: scroll hidden;
            -ms-scroll-snap-type: x mandatory;
            scroll-snap-type: x mandatory;
            scroll-padding: 0px 1.25rem;
            scrollbar-width: none;
            scroll-behavior: smooth;
            /* Enables smooth scrolling */
        }

        .scroll::-webkit-scrollbar {
            display: none;
        }

        .scroll.active {
            cursor: grab;
            cursor: -webkit-grab;
            user-select: none;
        }

        .scroll-container {
            display: flex;
            align-items: center;
            position: relative;
            -webkit-user-select: none;
            /* Safari */
            -ms-user-select: none;
            /* Internet Explorer/Edge */
            user-select: none;
            /* Standard */
        }

        .scroll-container,
        .scroll {
            -webkit-user-select: none;
            /* Safari */
            -ms-user-select: none;
            /* Internet Explorer/Edge */
            user-select: none;
            /* Standard */
        }

        .arrow {
            cursor: pointer;
            font-size: 1.3rem;
            background: none;
            border: none;
            color: #ffffff;
        }
    </style>
    <style>
        .footer {
            display: block;
        }

  .cashback-container {
  position: relative;
  color: white;
  border-radius: 12px;
  overflow: hidden;

  background: linear-gradient(
    130deg,
    #5200ff 0%,
    #6e00f5 25%,
    #979696 50%,
    #6e00f5 75%,
    #5200ff 100%
  );
  background-size: 400% 400%;
  animation: metallicMove 6s linear infinite;
  box-shadow: 0 0 15px rgba(255, 255, 255, 0.2);
}

@keyframes metallicMove {
  0% {
    background-position: 0% 50%;
  }
  100% {
    background-position: 100% 50%;
  }
}


.discount-percent {
  font-size: 60px;
  font-weight: 900;
}

.cashback-text {
  font-size: 32px;
  font-weight: 700;
  background: linear-gradient(90deg, #e0e0e0, #ffffff, #e0e0e0);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: shine 2s infinite linear;
}

@keyframes shine {
  0% { background-position: 0% }
  100% { background-position: 200% }
}




    </style>
</head>

<body class="position-relative">
    <main role="main" class="container mb-3">

        <div class="row mb-4">
            <div class="col-12">
                <div class="d-flex">
                    <a href="/giftcards" class="text-prim text-decoration-none ps-3"><i
                            class="fa fa-arrow-left fs-2"></i></a>
                    <h2 class="mb-3 text-center heading text-prim mx-auto fw-bold">Gift Card Successful</h2>
                </div>
            </div>
            <div class="col-12 col-lg-9 col-xl-8 mx-auto">
                <div class="rounded-4 bg-light rounded-4 shadow">
                    <div class="bg-transparent" id="appendData">

                    </div>

                </div>

            </div>
        </div>
        <div class="row genai" style="display: none;">
            <div class="col-12">
                <h2 class="mb-3 heading text-white">DealZ recommended by our GenAI</h2>
            </div>
        </div>
        <div id="bigBrandz2" class="scroll mb-5">
            <!-- Product listings will be populated here -->
        </div>
        <div class="row same" style="display: none;">
            <div class="col-12">
                <h2 class="mb-3 heading text-white">Same Category DealZ</h2>
            </div>
        </div>
        <div id="bigBrandz3" class="scroll mb-5">
            <!-- Product listings will be populated here -->
        </div>

    </main>

    <audio id="winSound" src="http://commondatastorage.googleapis.com/codeskulptor-assets/week7-brrring.m4a"
        preload="auto"></audio>
    <!-- Bootstrap Toast -->
    <div id="toastContainer" class="position-fixed bottom-0 end-0 p-3" style="z-index: 11;"></div>
    <!-- Scratch Card Modal -->
    <!-- Bootstrap Modal -->
<div class="modal fade" id="dynamicModal" tabindex="-1" aria-labelledby="modalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content position-relative">

      <!-- Bottom Layer: Dynamic Content -->
      <div id="contentLayer" class="p-4 text-white position-relative z-10">
        <!-- Content will be injected here -->
      </div>

      <!-- Metallic Background -->
      <div class="metallic-bg position-absolute top-0 start-0 w-100 h-100 z-0"></div>

      <!-- Top Layer: Scratching Blur -->
      <div id="loadingLayer" class="position-absolute top-0 start-0 w-100 h-100 d-flex justify-content-center align-items-center text-white z-20"
           style="backdrop-filter: blur(8px); background: rgba(0,0,0,0.4);">
        <div class="scratch-text fs-4 fw-bold">Scratching for content...</div>
      </div>

    </div>
  </div>
</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
        integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>

    <script src="https://unpkg.com/@dotlottie/player-component@2.7.12/dist/dotlottie-player.mjs" type="module"></script>
    <!-- <script src="./js/headerFooter.js" type="module"></script> -->
    <!-- <script src="./js/chatgpt.js"></script> -->
    <!-- <script src="./js/dynamic_dropdown.js?v=1.1"  type="module"></script> -->
    <!-- <script src="./js/apple_auth.js" type="module"></script> -->
    <script>
        
        $(document).ready(function () {

            const modal = new bootstrap.Modal(document.getElementById('dynamicModal'));
  modal.show();

  const contentLayer = document.getElementById("contentLayer");
  const loadingLayer = document.getElementById("loadingLayer");

  fetch("https://flashweb.iweberp.com/api/check_discount?uid=Pratham")
    .then(res => res.json())
    .then(data => {
  const { discount } = data;

  contentLayer.innerHTML = `
    <div class="cashback-container text-center">
      <h1 class="discount-percent">${discount}%</h1>
      <h2 class="cashback-text">CASHBACK</h2>
      <div class="confetti"></div>
    </div>
  `;

  loadingLayer.classList.remove("d-flex");
  loadingLayer.classList.add("d-none");
})

    .catch(err => {
      contentLayer.innerHTML = `<p class="text-danger">Failed to load discount data.</p>`;
      loadingLayer.innerHTML = `<p class="text-warning">Error loading content.</p>`;
    });


            const baseURL = window.location.origin;
            $("#overlay").hide();

            // Helper to display toast messages
            const toastContainer = document.getElementById("toastContainer");
            function showToast(message, isError = false) {
                const toast = document.createElement("div");
                toast.className = `toast align-items-center text-bg-${jsonData.isError ? "danger" : "success"} border-0`;
                toast.role = "alert";
                toast.innerHTML = `
<div class="d-flex">
  <div class="toast-body">${jsonData.message}</div>
  <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
</div>
`;
                toastContainer.appendChild(toast);
                const bsToast = new bootstrap.Toast(toast);
                bsToast.show();
                toast.addEventListener("hidden.bs.toast", () => toast.remove());
            }
            // Dummy JSON data
            const jsonData = {
                "order_id": "ccd5c036e1b29d0f",
                "number": "7058737993",
                "operatorName": "Airtel",
                "circleName": "GOA",
                "horizontalPoster": "https://cdn.subspace.money/whatsub_services/backdrop_url/XPxQL05CalGM7hJ4SvQaR.png",
                "operatorImage": "https://cdn.subspace.money/logos/ebcbdc3c-d3d7-4b25-985c-2878c3841d83.png",
                "mNumber": "1234567890",
                "savedAmount": 100,
                "planAmount": "500"
            };
            // Function to clean up the `cashback` value
            function sanitizeCashbackValue(cashback) {
                // Remove everything starting from "?"
                return cashback.split("?")[0];
            }
            // Function to create and display the recharge card dynamically
            function createRechargeCard(data) {

                // Create the card structure using template literals
                const cardHTML = `
                <div class="card py-0 border-0 rounded-4 bg-white shadow position-relative">
                                                            <div class="card-body p-0 ">
                                                                <h4 class="p-3 m-0">Thank You</h4>
                                                                <div class="d-flex justify-content-between align-items-center p-3">
                                                                    <div class="d-flex">
                                                                        <div class="operator-logo-wrap me-3">
                                                                            <img src="${jsonData.operatorImage}" alt="${jsonData.operatorName} Logo" class="operator-logo rounded-circle" style="width: 50px; height: 50px;">
                                                                        </div>
                                                                        <div> 
                                                                            <h5 class="">${jsonData.mNumber}</h5>
                                                                            <div>
                                                                                <span class="">${jsonData.operatorName},</span>
                                                                                <span class="">${jsonData.circleName}</span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <h4 class="price">₹${jsonData.planAmount}</h4>
                                                                </div>
                                                                <div class="d-flex justify-content-between align-items-center p-3 pb-4" style="background-color: #00942bb3;">
                                                                    <div>
                                                                        <div class="text-white">
                                                                            <h5 class="">Mobile recharge successful</h5>
                                                                            <p>Check 'My Plans' in your ${jsonData.operatorName} app.</p>
                                                                        </div>
                                                                        <div class="position-relative d-flex align-items-center" style="z-index: 1;"> 
                                                                            <button class="dropdown-toggle w-auto p-3 py-2 text-white border-0 rounded-4 fw-bold text-center me-3 d-flex justify-content-center" data-bs-auto-close="outside" aria-expanded="false" style="background-color: #2c232394;"
                                                                                type="button" data-bs-toggle="dropdown">
                                                                                View Details
                                                                            </button>
                                                                            <ul class="dropdown-menu p-3 border-0 rounded-3 shadow-lg" style="background-color: #252525; color:#c2c2c2";>
                                                                                <li class="text-nowrap">
                                                                                    <h5 class="text-white">Order Details</h5>
                                                                                </li>
                                                                                <li><hr class="dropdown-divider" style="border-top: 1px solid rgb(255 255 255 / 61%);"></li>
                                                                                <li class="text-nowrap">
                                                                                    <p class="mb-0">Order ID</p>
                                                                                    <p id="copyOrderText">${jsonData.rechargeOrderId} <i class="fa fa-copy ms-4" style="cursor:pointer;" id="copyOrderButton"></i></p>
                                                                                </li>
                                                                                <li class="text-nowrap">
                                                                                    <p class="mb-0">Payment ID Refrence</p>
                                                                                    <p id="copyPaymentText">${jsonData.rechargePaymentId} <i class="fa fa-copy ms-4" style="cursor:pointer;" id="copyPaymentButton"></i></p>
                                                                                </li>
                                                                                <li class="text-nowrap d-flex justify-content-between align-items-center">
                                                                                    <p class="mb-0">Amount</p>
                                                                                    <p class="text-success mb-0">₹${jsonData.planAmount}</p>
                                                                                </li>
                                                                            </ul>
                                                                            <div class="d-inline-block d-lg-none w-auto">
                                                                                <button type="button" id="share" class="btn shadow p-2 w-100 rounded-circle border-0 text-white mx-auto d-flex justify-content-center" style="background-color:#2c232394;">
                                                                                        <i class="fa-solid fa-share-nodes fs-4"></i>
                                                                                </button>
                                                                            </div>
                                                                            
                                                                            <div class=" d-none d-lg-inline-block w-auto">
                                                                                <div class="dropdown-center position-relative">
                                                                                    <a class="nav-link dropdown-toggle btn shadow p-2 rounded-circle border-0 mb-0 mt-0 mx-auto d-flex justify-content-center align-items-center"  style="background-color:#2c232394; width:min-content;" href="#" role="button" data-bs-auto-close="outside" aria-expanded="false" data-bs-toggle="dropdown">
                                                                                        <i class="fa-solid fa-share-nodes fs-4 text-white"></i>
                                                                                    </a>
                                                                                    <div class="dropdown-menu drop-animate bg-white px-1 shadow">
                                                                                        <div class="d-flex p-2 py-1 align-items-center">
                                                                                            <div><button id="shareOnWhatsApp" class="bg-transparent border-0"><i class="fa-brands fa-whatsapp fs-2" style="color: #00d757;"></i></button></div>
                                                                                            <div><button id="shareOnFacebook" class="bg-transparent border-0"><i class="fa-brands fa-facebook fs-2" style="color: #0866ff;"></i></button></div>
                                                                                            <div><button id="shareOnTwitter" class="bg-transparent border-0"><i class="fa-brands fa-x-twitter fs-2" style="color: #000000;"></i></button></div>
                                                                                            <div><button id="shareOnLinkedIn" class="bg-transparent border-0"><i class="fa-brands fa-linkedin fs-2" style="color: #0a66c2;"></i></button></div>
                                                                                            <div class="d-none"><button id="shareOnInstagramDM" class="bg-transparent border-0"><i class="fa-brands fa-instagram fs-1" style="color: #63E6BE;"></i></button></div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="operator-logo-wrap ms-3">
                                                                        <dotlottie-player src="https://lottie.host/51a8237a-2938-436a-b629-98e9d11e80a1/IdfDk9jEz1.lottie" background="transparent" speed="0.5" style="width: 110px; height:110px;" loop="1" autoplay></dotlottie-player>
                                                                    </div>
                                                                </div>
                                                                <div class="d-flex justify-content-between align-items-center p-3 rounded-4" style="background-color: #FFF9BD;color: #ff9000;margin-top:-11px;">
                                                                    <div>
                                                                        <div>
                                                                            <h5 class="">Congratulations!</h5>
                                                                            <p>You've saved flat ₹${jsonData.savedAmount.toFixed(2)} by recharging with GenZDealZ.ai on ${jsonData.operatorName}.</p>
                                                                        </div>
                                                                        
                                                                    </div>
                                                                    <div class="operator-logo-wrap ms-3">
                                                                        <img src="/icons/coin.gif" alt="${jsonData.operatorName} Logo" class="operator-logo rounded-circle" style="width: 90px; height: 90px;">
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <dotlottie-player src="https://lottie.host/49e79823-1a8d-433d-a5df-817e6bec29e9/PwyeWpsrhZ.lottie" background="transparent" speed="0.5" class="celeb-animation" style="width: 100%; height: 100%;position: absolute; top:0; left:0;" loop="1" autoplay></dotlottie-player>
                                                        </div>
                `;

                // Append the generated HTML to the container
                document.getElementById("appendData").innerHTML = cardHTML;
                document.getElementById("copyPaymentButton").addEventListener("click", function () {
                    // Get the text to copy
                    const textToCopy = document.getElementById("copyPaymentText").textContent.trim();

                    // Copy the text to clipboard
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        // alert("Copied to clipboard!");
                        showToast("Payent ID copied to clipboard!", false);
                    }).catch(err => {
                        console.error("Failed to copy text: ", err);
                    });
                });
                document.getElementById("copyOrderButton").addEventListener("click", function () {
                    // Get the text to copy
                    const textToCopy = document.getElementById("copyOrderText").textContent.trim();

                    // Copy the text to clipboard
                    navigator.clipboard.writeText(textToCopy).then(() => {
                        // alert("Copied to clipboard!");
                        showToast("Order ID copied to clipboard!", false);
                    }).catch(err => {
                        console.error("Failed to copy text: ", err);
                    });
                });
                // Parse the ISO 8601 timestamp
                const now = new Date();

                const year = now.getFullYear();
                const month = String(now.getMonth() + 1).padStart(2, '0'); // Months are 0-indexed
                const day = String(now.getDate()).padStart(2, '0');
                let hours = now.getHours();
                const minutes = String(now.getMinutes()).padStart(2, '0');
                const amPm = hours >= 12 ? 'PM' : 'AM';

                hours = hours % 12 || 12; // Convert to 12-hour format and handle midnight (0 -> 12)

                const formattedDate = `${jsonData.day}-${jsonData.month}-${jsonData.year} ${jsonData.String(hours).padStart(2, '0')}:${jsonData.minutes} ${jsonData.amPm}`;
                console.log(formattedDate);

                // Share link section ////////------------
                document.getElementById('share').addEventListener('click', shareOnSocialMedia);
                function shareOnSocialMedia() {
                    if (navigator.share) {
                        navigator.share({
                            // title: 'Check out this awesome site!',
                            text: `Mobile recharge is successful via
GenZDealZ.ai & saved ₹${jsonData.cashback.toFixed(2)} 
Amount: ₹${jsonData.data.billAmount}
Mobile Number: ${jsonData.data.number}
Operator: ${jsonData.data.operatorName},${jsonData.data.circleName}
Payment ID: 7b44f95b-3839-4466-9e65-e9cc101d40c6
Order Date: ${jsonData.formattedDate}`,
                            url: `${jsonData.baseURL}`, // current URL
                        })
                            .then(() => console.log('Successfully shared'))
                            .catch((error) => console.log('Error sharing:', error));
                    } else {
                        alert('Sharing is not supported in this browser.');
                    }
                }
                document.getElementById('shareOnWhatsApp').addEventListener('click', shareOnWhatsApp);
                function shareOnWhatsApp() {

                    const text = encodeURIComponent(`Mobile recharge is successful via
GenZDealZ.ai & saved ₹${jsonData.cashback.toFixed(2)} 
Amount: ₹${jsonData.data.billAmount}
Mobile Number: ${jsonData.data.number}
Operator: ${jsonData.data.operatorName},${jsonData.data.circleName}
Payment ID: 7b44f95b-3839-4466-9e65-e9cc101d40c6
Order Date: ${jsonData.formattedDate}`);
                    const shareUrl = `https://api.whatsapp.com/send?text=${jsonData.text}`;
                    window.open(shareUrl, '_blank');
                }
                document.getElementById('shareOnFacebook').addEventListener('click', shareOnFacebook);
                function shareOnFacebook() {
                    const url = encodeURIComponent(`${jsonData.baseURL}`);
                    const text = encodeURIComponent(`Mobile recharge is successful via
GenZDealZ.ai & saved ₹${jsonData.cashback.toFixed(2)} 
Amount: ₹${jsonData.data.billAmount}
Mobile Number: ${jsonData.data.number}
Operator: ${jsonData.data.operatorName},${jsonData.data.circleName}
Payment ID: 7b44f95b-3839-4466-9e65-e9cc101d40c6
Order Date: ${jsonData.formattedDate}`);
                    const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${jsonData.url}&text=${jsonData.text}`;
                    window.open(shareUrl, '_blank');
                }
                document.getElementById('shareOnTwitter').addEventListener('click', shareOnTwitter);
                function shareOnTwitter() {
                    const text = encodeURIComponent(`Mobile recharge is successful via
GenZDealZ.ai & saved ₹${jsonData.cashback.toFixed(2)} 
Amount: ₹${jsonData.data.billAmount}
Mobile Number: ${jsonData.data.number}
Operator: ${jsonData.data.operatorName},${jsonData.data.circleName}
Payment ID: 7b44f95b-3839-4466-9e65-e9cc101d40c6
Order Date: ${jsonData.formattedDate}`);
                    const shareUrl = `https://twitter.com/intent/tweet?text=${jsonData.text}`;
                    window.open(shareUrl, '_blank');
                }
                document.getElementById('shareOnLinkedIn').addEventListener('click', shareOnLinkedIn);
                function shareOnLinkedIn() {
                    const url = encodeURIComponent(`${jsonData.baseURL}`);
                    const text = encodeURIComponent(`Mobile recharge is successful via
GenZDealZ.ai & saved ₹${jsonData.cashback.toFixed(2)} 
Amount: ₹${jsonData.data.billAmount}
Mobile Number: ${jsonData.data.number}
Operator: ${jsonData.data.operatorName},${jsonData.data.circleName}
Payment ID: 7b44f95b-3839-4466-9e65-e9cc101d40c6
Order Date: ${jsonData.formattedDate}`);
                    // const text = encodeURIComponent(`Check out the ${jsonData.storeData.data.brandName} deal on GenZDealZ.ai! Save an extra ${jsonData.cashback}% on your next purchase. Don’t miss this exclusive offer: `);
                    const shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${jsonData.url}&text=${jsonData.text}`;
                    window.open(shareUrl, '_blank');
                }
            }

            // Call the function to create the recharge card dynamically
            createRechargeCard(jsonData);

        });
        // Check if the user is authenticated
        // if (localStorage.getItem('authenticated') === 'true') {
        // } else {
        //   window.location.href = './login';
        // }
    </script>
    <script>
        const requestOptions = {
            method: "GET",
            redirect: "follow"
        };

        // fetch("https://flashweb.iweberp.com/api/brand_showcase", requestOptions)
        fetch("https://flashweb.iweberp.com/api/new_brand_showcase", requestOptions)
            .then((response) => response.json())
            .then((data) => {

                var cardHtml = data.map(item => `
          <div class="h-100 item">
          <div class="h-75 big-b d-flex" style="width: 12rem;" data-src="${jsonData.item.logoURL}" data-storeid="${jsonData.item.brandId}" data-title="${jsonData.item.brandName}" id="${jsonData.item.brandName}" >
          
            <img src="${jsonData.item.logoURL}" height="100%" class="rounded-start rounded-end h-100 w-75 alt="Store Image">
          </div>
          </div>
        `).join("");

                $("#bigBrandz").append(cardHtml);
                $(".big-deals").show()
                $(".big-b").off("click").on("click", function () {
                    if (localStorage.getItem('authenticated') === 'true') {
                        const userDataString = localStorage.getItem('userDataF') || localStorage.getItem('userDataA');

                        if (!userDataString) {
                            console.error("User data not available in local storage");
                            // Optionally, handle the absence of user data and inform the user
                        }

                        // Parse user data from the string
                        const userData = JSON.parse(userDataString);
                        const mobileNumber = userData?.number || userData.mobile_no || userData.phoneNumber;
                        // Assuming userData is already retrieved from local storage
                        const name = userData?.name;

                        // Function to extract the first and last words from a string
                        function getFirstAndLastWords(fullName) {
                            const words = fullName.split(/\s+/);
                            const firstWord = words[0] || 'DefaultFirst';
                            const lastWord = words[words.length - 1] || 'DefaultLast';
                            return { firstWord, lastWord };
                        }

                        // Use the chosen userData for first_name and last_name
                        const { firstWord, lastWord } = name ? getFirstAndLastWords(name) : { firstWord: 'DefaultFirst', lastWord: 'DefaultLast' };
                        let fName = userData?.first_name || firstWord;
                        let lName = userData?.last_name || lastWord;

                        var title = $(this).data("title");
                        var brandId = $(this).data("storeid");
                        var image = $(this).data("src");
                        var cashback = $(this).data("cashback");
                        gtag('event', 'local_deal_click_web', {
                            'local_deal_click_web_category': 'Link Click',
                            'local_deal_click_label': `Product Name:${jsonData.title} ${jsonData.brandId}, User Details- ${jsonData.mobileNumber ? mobileNumber : ""} ${jsonData.userData.email ? userData.email : ""},Name:${jsonData.userData.name}`,
                            'transport_type': 'beacon'
                        });
                        // var authToken = localStorage.getItem('authToken');
                        debugger
                        const myHeaders = new Headers();
                        myHeaders.append("brand_id", brandId);
                        // myHeaders.append("Authorization", "Bearer " + authToken);

                        const requestOptions = {
                            method: "GET",
                            headers: myHeaders,
                            redirect: "follow"
                        };

                        fetch("https://flashweb.iweberp.com/api/get_brands_detail", requestOptions)
                            .then((response) => response.json())
                            .then((brandData) => {
                                window.open(`brands_store_detail?storeId=${jsonData.brandId}`, "_self");
                            })
                            .catch((error) => console.error(error));
                    } else {
                        window.location.href = 'login';
                    }


                });
            })
            .catch((error) => {
                $(".placeholder-col").fadeOut();
                $(".real-col").fadeIn();
                console.error(error);
                isLoading = false;
            });
        // Select all elements with the 'scroll' class
        const scrollContainer = document.querySelector("#bigBrandz");
        const leftArrow = document.querySelector(".left-arrow");
        const rightArrow = document.querySelector(".right-arrow");
        const SCROLL_AMOUNT = 700; // Adjust the amount of scroll per click
        let isDragging = false;
        let startX, scrollLeft;

        // Arrow button functionality
        leftArrow.addEventListener("click", () => {
            scrollContainer.scrollBy({ left: -SCROLL_AMOUNT, behavior: "smooth" });
        });

        rightArrow.addEventListener("click", () => {
            scrollContainer.scrollBy({ left: SCROLL_AMOUNT, behavior: "smooth" });
        });

        // Drag-to-scroll functionality
        scrollContainer.addEventListener("mousedown", (e) => {
            isDragging = true;
            scrollContainer.classList.add("active");
            startX = e.pageX - scrollContainer.offsetLeft;
            scrollLeft = scrollContainer.scrollLeft;
        });

        scrollContainer.addEventListener("mousemove", (e) => {
            if (!isDragging) return;
            e.preventDefault();
            const x = e.pageX - scrollContainer.offsetLeft;
            const walk = (x - startX) * 2; // Adjust multiplier for scroll speed
            scrollContainer.scrollLeft = scrollLeft - walk;
        });

        scrollContainer.addEventListener("mouseup", () => {
            isDragging = false;
            scrollContainer.classList.remove("active");
        });

        scrollContainer.addEventListener("mouseleave", () => {
            isDragging = false;
            scrollContainer.classList.remove("active");
        });

        // Optional: Hide arrow buttons when scrolling reaches the ends
        const toggleArrowVisibility = () => {
            leftArrow.style.visibility = scrollContainer.scrollLeft > 0 ? "visible" : "hidden";
            const maxScrollLeft = scrollContainer.scrollWidth - scrollContainer.clientWidth;
            rightArrow.style.visibility = scrollContainer.scrollLeft < 0 ? "hidden" : "visible";
        };

        scrollContainer.addEventListener("scroll", toggleArrowVisibility);
        toggleArrowVisibility(); // Initialize arrow visibility

        const scrollContainerMain = document.querySelector(".scroll-container");

        // Disable double-click or hold-select for text
        scrollContainerMain.addEventListener("mousedown", (e) => {
            e.preventDefault();
        });
    </script>
</body>

</html>