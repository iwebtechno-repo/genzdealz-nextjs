<!-- store_products -->
<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-PL5GVMRBH9"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-PL5GVMRBH9');
  </script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DS58BG5N5D">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-DS58BG5N5D');
  </script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description"
    content=" Track your GenZDealZ.ai gift card balance, redeem deals, and view past purchases. Your easiest way to save on college essentials in India." />
  <meta name="author" content="" />
  <link rel="icon" href="https://genzdealz.ai/icons/logo_white_old.jpg" />

  <title>GenZDealZ.ai Gift Cards: Manage Your GenZDealZ.ai Gift Cards</title>

  <meta name="twitter:card" content="GenZDealZ.ai_large_image" />
  <meta name="twitter:image" content="https://genzdealz.ai/icons/logo_white_old.jpg" />
  <!-- Other meta tags -->
  <meta property="og:title" content="GenZDealZ.ai Gift Cards: Manage Your GenZDealZ.ai Gift Cards" />
  <meta property="og:description"
    content=" Track your GenZDealZ.ai gift card balance, redeem deals, and view past purchases. Your easiest way to save on college essentials in India." />
  <meta property="og:image" content="https://genzdealz.ai/icons/logo_white_old.jpg" />
  <meta property="og:url" content="https://genzdealz.ai/" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap"
    rel="stylesheet">
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">
  <!-- Place your stylesheet here-->
  <!-- <script type="text/javascript" language="javascript">
        var versionUpdate = (new Date()).getTime();
        var link = document.createElement("link");
        link.href = "./css/style_new.css?v=" + versionUpdate;
        link.rel = "stylesheet"
        link.type = "text/css"
        document.head.appendChild(link);  
    </script> -->
  <link href="./css/style_new.css?v=1.1" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="./css/typo.css">
  <link rel="stylesheet" href="./css/component.css">
  <style>
    .fixed-element {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    

    .hidden {
      display: none !important;
    }

    .dropdown-menu {
      animation: 0.5s slideup;
    }

    @keyframes slideup {
      from {
        transform: translateY(100%);
      }

      to {
        transform: translateY(70%);
      }
    }

    .dropdown-toggle::after {
      border: 0 !important;
    }
    #giftCard input {
      background-color: rgb(0 0 0 / 47%) !important;
    }
  </style>
</head>

<body>
  <special-header></special-header>
  <div class="margin" style="margin-bottom: 125px"><span></span></div>
  <div class="topmenu rounded-pill py-2 py-lg-3 px-3">
    <div class="bar d-flex align-items-center justify-content-between justify-content-lg-center">
      <a href=".\personalized" class="me-3 text-center nav-tabs rounded-pill text-black"><i class="fa fa-heart d-block fs-4 d-lg-none"></i>Favourite</a>
      <a href=".\home" class="me-3 text-center nav-tabs text-nowrap rounded-pill text-black"><i class="fa fa-home d-block d-lg-none fs-4"></i>Home</a>
      <a href=".\recharge" class="me-3 text-center nav-tabs rounded-pill text-black"><i class="fa-solid fa-money-bill-trend-up d-block fs-4 d-lg-none"></i>Recharge & Bills</a>
      <a href=".\giftcards" class="active me-3 text-center nav-tabs rounded-pill"><i class="fa fa-wallet d-block fs-4 d-lg-none"></i>GiftCards</a>
    </div>
  </div>
  <main class="container pb-3">
    <div class="row">
      <div class="col-12">
        <h2 class="mb-3 text-center heading text-prim fw-bold">My Giftcards</h2>
      </div>
    </div>
    <div id="giftCard" class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
      <!-- Product listings will be populated here -->
    </div>
    <div class="error-container row row-cols-1 my-5">

    </div>
  </main>

  <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 1055;">
    <div class="toast" class="border-0" class="toast" role="alert" aria-live="assertive" aria-atomic="true"
      data-delay="100">
      <!-- <div class="toast-header">
        <i class="fa-solid fa-clipboard text-prim fw-bold me-2"></i>
        <strong class="me-auto ">Text copied to clipboard</strong>
        <button type="button" class="btn" data-bs-dismiss="toast" aria-label="Close"><i
            class="fa fa-close text-prim fw-bold"></i></button>
      </div> -->
      <div class="toast-body text-dark">
      </div>
    </div>
  </div>
  <special-footer></special-footer>
  <special-chatbots></special-chatbots>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
    integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="./js/headerFooterNew.js" type="module"></script>
  <script src="./js/chatgpt.js"></script>
  <script src="./js/dynamic_dropdown.js?v=1.1" type="module"></script>
  <!-- <script type="text/javascript" language="javascript">

        var versionUpdate = (new Date()).getTime();
        var script = document.createElement("script");
        script.type = "text/javascript";
        script.src = "./js/brands_store_detail.js?v=" + versionUpdate;
        document.body.appendChild(script);  
    </script> -->
  <script>
    // Check if the user is authenticated
    if (localStorage.getItem('authenticated') === 'true') {
      // User is authenticated, allow access to the content
    } else {
      // User is not authenticated, redirect to the login page or handle accordingly
      // Save the current URL
      const currentUrl = window.location.href;
      localStorage.setItem('redirectAfterLogin', currentUrl);
      window.location.href = './login';
    }
    // Retrieve user data from local storage
    const userDataString = localStorage.getItem('userDataF') || localStorage.getItem('userDataA');
    if (!userDataString) {
      console.error("User data not available in local storage");
    }
    
    const baseURL = window.location.origin;
    const userData = JSON.parse(userDataString);
    const mobileNumber = userData?.number || userData.mobile_no || userData.phoneNumber;
    let footer = document.getElementsByClassName('footer');
    let overlay = document.getElementById("overlay")
    // let overlay = $(".overlay")
    if (mobileNumber) {
      const apiUrl = `https://flashweb.iweberp.com/api/brand_coupon?mobile_no=${mobileNumber}`;
      const displayedCards = new Set();
      fetch(apiUrl, {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json',
        },
      })
        .then(response => response.json())
        .then(data => {
          if (Array.isArray(data) && data.length > 0) {
            data.forEach((response, index) => {
              const responseData = response.data;
              // console.log(responseData)
              let imageUrl = responseData.image;
let match = imageUrl.match(/logos\/([a-f0-9\-]+)\.png/i);
const brandId = match && match[1] ? match[1] : responseData.ID;
// console.log(brandId)
              // Get the Cardno and CardPin values
              const cardNumber = responseData.Cardno;
              const cardPin = responseData.CardPin;
              const expiryDate = responseData.expiry;
              const brandNameTrimed = (responseData.brand || "").split("?")[0].trim();

              // Check if Cardno or CardPin is blank
              if (!cardNumber || displayedCards.has(`${cardNumber}_${cardPin}`)) return;
  displayedCards.add(`${cardNumber}_${cardPin}`);

              // Formatting the date
              var dynamicDateString = responseData.CREATED_ON;
              var dynamicDate = new Date(dynamicDateString);

              var hours = dynamicDate.getHours() % 12 || 12;
              var minutes = dynamicDate.getMinutes().toString().padStart(2, "0");
              var ampm = dynamicDate.getHours() >= 12 ? 'PM' : 'AM';
              var day = dynamicDate.getDate().toString().padStart(2, "0");
              var month = (dynamicDate.getMonth() + 1).toString().padStart(2, "0");
              var year = dynamicDate.getFullYear();

              var customFormattedDate = `${day}-${month}-${year} • ${hours}:${minutes} ${ampm}`;


              // Create and append the card element
              var appendDataContainer = document.getElementById("giftCard");

              var cardElement = document.createElement("div");
              cardElement.classList.add("col");
              cardElement.innerHTML = `
                      <div class="card rounded-4 border-0 h-100 position-relative shadow px-2 py-2" style="color: white;">
                        <div class="position-absolute w-100 h-100 giftcard-img top-0 start-0">
                          <img src="${responseData.image}" class="w-100 h-100 rounded-4" alt="">
                        </div>
                        <div class="card-header bg-transparent border-0 position-relative pb-0">
                          <div class="d-flex justify-content-between">
                            <h1 class="card-title fw-bold mb-0">₹ ${responseData.amount}</h1>
                            <p class="mb-0 expiry-date"><b style="color:red;">${responseData.expiry}</b></p>
                          </div>
                        </div>
                        <div class="card-body border-0 d-flex flex-column position-relative pt-0">
                          
                          <div class="mb-1 position-relative">
                              <p class="card-text mb-1">Card Number</p>
                              <input type="text" class="form-control rounded text-white border-white" disabled value="${cardNumber}">
                              <i class="fas fa-copy position-absolute" style="top: 62%; right: 18px; cursor: pointer;" onclick="copyToClipboard(event)" data-copy-value="${cardNumber}"></i>
                          </div>
                          
                          <div class="mb-0 position-relative pin-container mb-3">
                              <p class="card-text mb-1">Card Pin</p>
                              <input type="text" class="form-control rounded text-white border-white" disabled value="${cardPin || '****'}">
                              <i class="fas fa-copy position-absolute" style="top: 62%; right: 18px; cursor: pointer;"onclick="copyToClipboard(event)" data-copy-value="${cardPin || '****'}"></i>
                          </div>
                          <div class="d-sm-flex d-md-block d-xl-flex  w-100 align-items-center">
                            <div class="px-md-0 mt-auto w-100 mb-2 mb-sm-0 me-sm-2 mb-md-2 me-md-0 me-xl-2 mb-xl-0" style="height:40px;">
                              <button type="button" id="share-btn-p" class="btn shadow rounded border-0 text-white mx-auto d-flex d-lg-none align-items-center w-100 py-2 share-btn share-btn-p"  style="background: rgb(0 0 0 / 47%);">
                              <span class="text-buy text-b fw-bold d-flex m-auto small"><i class="fa-solid fa-share-nodes fs-4 me-2"></i> Share Gift Card</span></button>
                              <div class="dropdown-center position-relative d-none d-lg-flex">
                                <a class="nav-link dropdown-toggle btn shadow w-100 rounded border-0 text-white mb-0 mt-0 mx-auto d-flex py-2 justify-content-center align-items-center share-btn share-btn-p w-100"  style="background: rgb(0 0 0 / 47%);" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                  <span class="text-buy small d-flex m-auto"><i class="fa-solid fa-share-nodes fs-4 me-3"></i> Share Gift Card</span>
                                </a>
                                <div class="dropdown-menu drop-animate bg-white px-1 py-1 shadow w-100">
                                  <div class="d-flex p-2 py-1 align-items-center w-100 justify-content-evenly">
                                    <div><button id="shareOnWhatsAppP" class="bg-transparent border-0"><i class="fa-brands fa-whatsapp fs-4" style="color: #00d757;"></i></button></div>
                                    <div><button id="shareOnFacebookP" class="bg-transparent border-0"><i class="fa-brands fa-facebook fs-4" style="color: #0866ff;"></i></button></div>
                                    <div><button id="shareOnTwitterP" class="bg-transparent border-0"><i class="fa-brands fa-x-twitter fs-4" style="color: #000000;"></i></button></div>
                                    <div><button id="shareOnLinkedInP" class="bg-transparent border-0"><i class="fa-brands fa-linkedin fs-4" style="color: #0a66c2;"></i></button></div>
                                    <div class="d-none"><button id="shareOnInstagramDMP" class="bg-transparent border-0"><i class="fa-brands fa-instagram fs-1" style="color: #63E6BE;"></i></button></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="px-md-0 mt-auto w-100" style="height:40px;">
                              <button type="button" id="share-btn-s" class="btn shadow rounded border-0 text-white mx-auto d-flex d-lg-none align-items-center w-100 py-2 share-btn share-btn-s"  style="background: rgb(0 0 0 / 47%);">
                              <span class="text-buy text-b fw-bold d-flex m-auto small"><i class="fa-solid fa-share-nodes fs-4 me-2"></i> Share on Social</span></button>
                              <div class="dropdown-center position-relative d-none d-lg-flex">
                                <a class="nav-link dropdown-toggle btn shadow w-100 rounded border-0 text-white mb-0 mt-0 mx-auto d-flex py-2 justify-content-center align-items-center share-btn share-btn-s w-100"  style="background: rgb(0 0 0 / 47%);" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                  <span class="text-buy small d-flex m-auto"><i class="fa-solid fa-share-nodes fs-4 me-3"></i> Share on Social</span>
                                </a>
                                <div class="dropdown-menu drop-animate bg-white px-1 py-1 shadow w-100">
                                  <div class="d-flex p-2 py-1 align-items-center w-100 justify-content-evenly">
                                    <div><button id="shareOnWhatsAppS" class="bg-transparent border-0"><i class="fa-brands fa-whatsapp fs-4" style="color: #00d757;"></i></button></div>
                                    <div><button id="shareOnFacebookS" class="bg-transparent border-0"><i class="fa-brands fa-facebook fs-4" style="color: #0866ff;"></i></button></div>
                                    <div><button id="shareOnTwitterS" class="bg-transparent border-0"><i class="fa-brands fa-x-twitter fs-4" style="color: #000000;"></i></button></div>
                                    <div><button id="shareOnLinkedInS" class="bg-transparent border-0"><i class="fa-brands fa-linkedin fs-4" style="color: #0a66c2;"></i></button></div>
                                    <div class="d-none"><button id="shareOnInstagramDMS" class="bg-transparent border-0"><i class="fa-brands fa-instagram fs-1" style="color: #63E6BE;"></i></button></div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
            `;
              appendDataContainer.prepend(cardElement);
              // console.log(cardPin,   expiryDate)
              //               if (!cardPin) {
              //   // console.log("Card Pin is missing or invalid:", cardPin);
              //   const pinContainer = cardElement.querySelector(".pin-container");
              //   if (pinContainer) {
              //     pinContainer.classList.add("hidden");
              //   }
              // }
              if (!expiryDate) {
                // console.log("Expiry Date is missing or invalid:", expiryDate);
                const expiryContainer = cardElement.querySelector(".expiry-date");
                if (expiryContainer) {
                  expiryContainer.classList.add("hidden");
                }
              }
              // Check if Cardno or CardPin is blank
              if (!responseData.DISCOUNT && !responseData.ID) {
                var elements = document.getElementsByClassName("share-btn");

                for (var i = 0; i < elements.length; i++) {
                  elements[i].classList.add("hidden");
                }
              }
              function shortenUrl(longUrl, callback) {
  fetch(`https://tinyurl.com/api-create.php?url=${encodeURIComponent(longUrl)}`)
    .then(response => response.text())
    .then(shortUrl => callback(shortUrl))
    .catch(error => {
      console.error('TinyURL error:', error);
      callback(longUrl); // Fallback if shortening fails
    });
}
              document.getElementById('share-btn-p').addEventListener('click', shareDeal);
function shareDeal() {
  const longUrl = `${baseURL}/brands_store_detail?storeId=${brandId}`;
  
  shortenUrl(longUrl, function(shortUrl) {
    const text = `🔥 I just grabbed a fantastic deal on ${responseData.brand} via GenZDealZ.ai! 

Unlock exclusive deals on top brands, Don’t miss out: ${shortUrl}

🎟 Gift Voucher Details:
• Amount: ${responseData.amount}
• Card Number: ${cardNumber}
${cardPin ? `• Card Pin: ${cardPin}` : ""}

💡 Start saving more on Recharges, Subscription Sharing (Netflix, Amazon Prime Video & more), and Gift Vouchers of Top Brands!

📲 Download the GenZDealZ.ai App now and unlock more exclusive deals!
👉 https://genzdealz.ai/GenZDealZApp`;

    if (navigator.share) {
      navigator.share({ text: text }).catch(err => console.error('Error sharing:', err));
    } else {
      alert('Sharing not supported in this browser.');
    }
  });
}
              document.getElementById('share-btn-s').addEventListener('click', shareDealS);
              function shareDealS() {
                const longUrl = `${baseURL}/brands_store_detail?storeId=${brandId}`;
  
  shortenUrl(longUrl, function(shortUrl) {
                const text = `🎉 Just grabbed a gift card for ${responseData.brand} from GenZDealZ.ai!

Got an exclusive ${responseData.DISCOUNT ? `${responseData.DISCOUNT}% OFF!` : "Discount!"}

💬 Loving the experience! Great deals, smooth process — highly recommend to all, please check it out.

📲 Download the app: https://genzdealz.ai/GenZDealZApp

🌐 Check it out: ${shortUrl}

#GenZDealZ #SmartSavings #GiftCardHack`;

                if (navigator.share) {
                  navigator.share({
                    text: text,
                    // url: 'https://genzdealz.ai/brands_store_detail?storeId=472'
                  })
                    .then(() => console.log(text))
                    .catch((error) => console.log('Error sharing:', error));
                } else {
                  alert('Sharing is not supported in this browser.');
                }
  });
              }
              document.getElementById('shareOnWhatsAppP').addEventListener('click', shareOnWhatsApp);

              function shareOnWhatsApp() {
                const url = encodeURIComponent(`${baseURL}/brands_store_detail?storeId=${brandId}`);
                const longUrl = `${baseURL}/brands_store_detail?storeId=${brandId}`;
  
  shortenUrl(longUrl, function(shortUrl) {
                const text = `🔥 I just grabbed a fantastic deal on ${responseData.brand} via GenZDealZ.ai! 

Unlock exclusive deals on top brands, Don’t miss out: ${shortUrl}

🎟 Gift Voucher Details:
• Amount: ${responseData.amount}
• Card Number: ${cardNumber}
${cardPin ? `• Card Pin: ${cardPin}` : ""}

💡 Start saving more on Recharges, Subscription Sharing (Netflix, Amazon Prime Video & more), and Gift Vouchers of Top Brands!

📲 Download the GenZDealZ.ai App now and unlock more exclusive deals!
👉 https://genzdealz.ai/GenZDealZApp`;

                const shareUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`;
                window.open(shareUrl, '_blank');
  });
              }
              document.getElementById('shareOnWhatsAppS').addEventListener('click', shareOnWhatsAppS);

              function shareOnWhatsAppS() {
                const url = encodeURIComponent(`${baseURL}/brands_store_detail?storeId=${brandId}`);
  const longUrl = `${baseURL}/brands_store_detail?storeId=${brandId}`;
  
  shortenUrl(longUrl, function(shortUrl) {

                const text = `🎉 Just grabbed a gift card for ${responseData.brand} from GenZDealZ.ai!

Got an exclusive ${responseData.DISCOUNT ? `${responseData.DISCOUNT}% OFF!` : "Discount!"}

💬 Loving the experience! Great deals, smooth process — highly recommend to all, please check it out.

📲 Download the app: https://genzdealz.ai/GenZDealZApp

🌐 Check it out: ${shortUrl}

#GenZDealZ #SmartSavings #GiftCardHack`;

                const shareUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(text)}`;
                window.open(shareUrl, '_blank');
  })
              }
              document.getElementById('shareOnFacebookP').addEventListener('click', shareOnFacebook);

              function shareOnFacebook() {
                const url = encodeURIComponent(`${baseURL}/brands_store_detail?storeId=${brandId}`);
  const longUrl = `${baseURL}/brands_store_detail?storeId=${brandId}`;
  
  shortenUrl(longUrl, function(shortUrl) {

                // Optional: You can log or use the text for another purpose
                const text = `🔥 I just grabbed a fantastic deal on ${responseData.brand} via GenZDealZ.ai! 

Unlock exclusive deals on top brands, Don’t miss out: ${shortUrl}

🎟 Gift Voucher Details:
• Amount: ${responseData.amount}
• Card Number: ${cardNumber}
${cardPin ? `• Card Pin: ${cardPin}` : ""}

💡 Start saving more on Recharges, Subscription Sharing (Netflix, Amazon Prime Video & more), and Gift Vouchers of Top Brands!

📲 Download the GenZDealZ.ai App now and unlock more exclusive deals!
👉 https://genzdealz.ai/GenZDealZApp`;

                const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${shortUrl}`;
                window.open(shareUrl, '_blank');
  });
              }
document.getElementById('shareOnFacebookS').addEventListener('click', shareOnFacebookS);

              function shareOnFacebookS() {
                const url = encodeURIComponent(`${baseURL}/brands_store_detail?storeId=${brandId}`);
  const longUrl = `${baseURL}/brands_store_detail?storeId=${brandId}`;
  
  shortenUrl(longUrl, function(shortUrl) {

                // Optional: You can log or use the text for another purpose
                const text = `🎉 Just grabbed a gift card for ${responseData.brand} from GenZDealZ.ai!

Got an exclusive ${responseData.DISCOUNT ? `${responseData.DISCOUNT}% OFF!` : "Discount!"}

💬 Loving the experience! Great deals, smooth process — highly recommend to all, please check it out.

📲 Download the app: https://genzdealz.ai/GenZDealZApp

🌐 Check it out: ${shortUrl}

#GenZDealZ #SmartSavings #GiftCardHack`;

                const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${shortUrl}`;
                window.open(shareUrl, '_blank');
  });
              }
              document.getElementById('shareOnTwitterP').addEventListener('click', shareOnTwitter);

              function shareOnTwitter() {
                const url = encodeURIComponent(`${baseURL}/brands_store_detail?storeId=${brandId}`);
  const longUrl = `${baseURL}/brands_store_detail?storeId=${brandId}`;
  
  shortenUrl(longUrl, function(shortUrl) {
                const text = encodeURIComponent(`🔥 I just grabbed a fantastic deal on ${responseData.brand} via GenZDealZ.ai! 

Unlock exclusive deals on top brands, Don’t miss out: ${shortUrl}

🎟 Gift Voucher Details:
• Amount: ${responseData.amount}
• Card Number: ${cardNumber}
${cardPin ? `• Card Pin: ${cardPin}` : ""}

💡 Start saving more on Recharges, Subscription Sharing (Netflix, Amazon Prime Video & more), and Gift Vouchers of Top Brands!

📲 Download the GenZDealZ.ai App now and unlock more exclusive deals!
👉 https://genzdealz.ai/GenZDealZApp`); // URL will be appended separately

                const shareUrl = `https://twitter.com/intent/tweet?text=${text}`;
                window.open(shareUrl, '_blank');
  });
              }
document.getElementById('shareOnTwitterS').addEventListener('click', shareOnTwitterS);

              function shareOnTwitterS() {
                const url = encodeURIComponent(`${baseURL}/brands_store_detail?storeId=${brandId}`);
  const longUrl = `${baseURL}/brands_store_detail?storeId=${brandId}`;
  
  shortenUrl(longUrl, function(shortUrl) {

                const text = encodeURIComponent(`🎉 Just grabbed a gift card for ${responseData.brand} from GenZDealZ.ai!

Got an exclusive ${responseData.DISCOUNT ? `${responseData.DISCOUNT}% OFF!` : "Discount!"}

💬 Loving the experience! Great deals, smooth process — highly recommend to all, please check it out.

📲 Download the app: https://genzdealz.ai/GenZDealZApp

🌐 Check it out: ${shortUrl}

#GenZDealZ #SmartSavings #GiftCardHack`); // URL will be appended separately

                const shareUrl = `https://twitter.com/intent/tweet?text=${text}`;
                window.open(shareUrl, '_blank');
  });
              }
              document.getElementById('shareOnLinkedInP').addEventListener('click', shareOnLinkedIn);
              document.getElementById('shareOnLinkedInS').addEventListener('click', shareOnLinkedIn);
              function shareOnLinkedIn() {
                const url = encodeURIComponent(`${baseURL}/brands_store_detail?storeId=${brandId}`);
  const longUrl = `${baseURL}/brands_store_detail?storeId=${brandId}`;
  
  shortenUrl(longUrl, function(shortUrl) {

                const shareUrl = `https://www.linkedin.com/sharing/share-offsite/?url=${shortUrl}`;
                window.open(shareUrl, '_blank');
                });
              }
            });

            // Show footer and hide overlay after successfully displaying the data
            $(".footer").show();
            $("#overlay").hide();

          } else {
            var noDataMessage = document.createElement("div");
            noDataMessage.classList.add("col", "fw-bold", "fs-4", "text-third", "text-center");
            noDataMessage.textContent = "No gift card data available.";
            document.getElementsByClassName("error-container")[0].appendChild(noDataMessage);
            $(".footer").show();
    $("#overlay").hide();
          }
        })
        .catch(error => {
          console.error('Error:', error);
          var noDataMessage = document.createElement("div");
            noDataMessage.classList.add("col", "fw-bold", "fs-4", "text-third", "text-center");
            noDataMessage.textContent = "Oops! Something went wrong please refresh the page.";
            document.getElementsByClassName("error-container")[0].appendChild(noDataMessage);
          $(".footer").show();
    $("#overlay").hide();
        });
    } else {
      const observer = new MutationObserver(() => {

  if ($("#overlay") && $(".footer")) {
    $("#overlay").hide();
    $(".footer").show();
    observer.disconnect(); // Stop watching once they're found
  }
});

observer.observe(document.body, { childList: true, subtree: true });
      var noMobileMessage = document.createElement("div");
      noMobileMessage.classList.add("col", "fw-bold", "fs-4", "text-third", "text-center");
      noMobileMessage.textContent = "Please verify your mobile No.";
      document.getElementsByClassName("error-container")[0].appendChild(noMobileMessage);
      // Show footer and hide overlay when mobile number is not available

    }


    function copyToClipboard(event) {
      var clickedElement = event.target; // Get the clicked element
      var valueToCopy = clickedElement.getAttribute('data-copy-value'); // Get the value to copy from a data attribute
      if (valueToCopy) {
        var tempInput = document.createElement("input");
        tempInput.value = valueToCopy;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand("copy");
        document.body.removeChild(tempInput);

        $(".toast").toast('show');
        $(".toast-body").text(valueToCopy);
      }
    }

  </script>

</body>

</html>